}
df <- data.frame(cbind(id, nobs=s.obs))
return(df)
}
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
data.temp <- data.frame(read.csv(path.temp))
if (complete(directory,i) > threshold) {
rbind(df,data.temp)
}
}
if (nrow(df) == 0) {
return(0)
} else {
return (corr(df, na.rm=TRUE))
}
}
cr <- corr("specdata", 150)
head(cr)
args(warnings)
warnings()
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[id==i,nobs] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp), append=TRUE))
}
}
if (nrow(df) == 0) {
return(0)
} else {
return (corr(df, na.rm=TRUE))
}
}
cr <- corr("specdata", 150)
cr <- corr("specdata", 150)
completeCases <- complete(directory)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata"
)
i< -5
i <- 5
completeCases <- complete("specdata")
completeCases[id==i,nobs]
completeCases[i,nobs]
completeCases[i,"nobs"]
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp), append=TRUE))
}
}
if (nrow(df) == 0) {
return(0)
} else {
return (corr(df, na.rm=TRUE))
}
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp), append=TRUE))
}
}
if (nrow(df) == 0) {
return(0)
} else {
return (corr(df, use = "complete"))
}
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp), append=TRUE))
}
}
if (nrow(df) == 0) {
return(0)
} else {
return (corr(df))
}
}
cr <- corr("specdata", 150)
cr <- corr("specdata", 150)
getwd()
directory
directory <- "specdata"
fileNames <- list.files(directory)
fileNames
completeCases <- complete(directory)
completeCases
df
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp), append=TRUE))
}
}
threshold <- 150
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp), append=TRUE))
}
}
df
head(df)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp)))
}
}
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp)))
}
}
cor(df)
df <- df[,c(2:4)]
cor(df)
cr <- cor(df)
head(cr)
summary(cr)
df <- df[,c(1:2)]
cr <- cor(df)
head(cr)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp)))
}
}
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp)))
}
}
cor(df), use = "complete"
cor(df, use = "complete")
head(df)
df <- df[,1:2]
cor(df, use = "complete")
head(df)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp)))
}
}
df <- df[,2:3]
cor(df, use = "complete")
cr <- cor(df, use = "complete")
head(cr)
summary(cr)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp)))
}
}
if (nrow(df) == 0) {
return(0)
} else {
return (cor(df, use = "complete"))
}
}
cr <- corr("specdata", 400)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
df <- data.frame(NULL)
for (i in 1:length(fileNames)) {
path.temp <- paste("./", directory, "/", fileNames[i], sep="")
if (completeCases[i,"nobs"] > threshold) {
df <- rbind(df, data.frame(read.csv(path.temp)))
}
}
if (nrow(df) == 0) {
return(0)
} else {
return (cor(df[,2:3], use = "complete"))
}
}
cr <- corr("specdata", 400)
head(cr)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
submit()
submit()
submit()
2
submit()
submit()
submit()
submit()
submit()
submit()
completeCases
temp <- completeCases[nobs > 150]
temp <- completeCases[nobs > 150,]
temp <- completeCases[(nobs > 150)]
temp <- subset(completeCases, nobs > 150)
temp
nrow(temp)
temp <- subset(completeCases$id, nobs > 150)
temp <- subset(completeCases, nobs > 150, select=id)
temp
temp <- completeCases[completeCases$nobs > 150, "id"]
temp
temp <- list()
temp
str(temp)
type(list)
as.list(temp)
is.list(temp)
i
i<-3
formatFile <- formatC(th_Ids[i], digits=3, flag="0")
th_Ids <- completeCases[completeCases$nobs > threshold, "id"]
formatFile <- formatC(th_Ids[i], digits=3, flag="0")
formatFile
formatFile <- formatC(th_Ids[i], digits=2, flag="0")
formatFile
i <- 100
formatFile <- formatC(th_Ids[i], digits=2, flag="0")
formatFile
i <- 30
formatFile <- formatC(th_Ids[i], digits=2, flag="0")
formatFile
complete("specdata", c(2, 4, 8, 10, 12))
fileNames
nrow(completeCases)
temp <- rbind(fileNames, completeCases)
head(temp)
nrow(temp)
temp <- completeCases
temp$fileNames <- fileNames
head(temp)
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
corrList <- list()
thr_Files
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
corrList <- list()
thr_Files
i
path.temp <- paste(".", directory, thr_Files[i], sep="/")
corrList[i] <- cor(read.csv(path.temp))
read.csv(path.temp)
file.temp <- read.csv(path.temp); file.temp <- complete.cases(file.temp[,c(2,3)])
file.temp
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),c(2,3)])
file.temp <- file.temp[complete.cases(file.temp),c(2,3)]
file.temp
corrList[i] <- cor(file.temp)
i <- 1
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),c(2,3)]
corrList[i] <- cor(file.temp)
cor(file.temp)
cor(file.temp$sulfate, file.temp$nitrate)
file.temp <- read.csv(path.temp)
cor(file.temp$sulfate,file.temp$nitrate)
file.temp[complete.cases(file.temp),]
file.temp <- file.temp[complete.cases(file.temp),]
cor(file.temp$sulfate,file.temp$nitrate)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
corrList <- list()
for (i in 1:length(th_Ids)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
if (nrow(df) == 0) {
return(0)
} else {
return (corrList)
}
}
cr <- corr("specdata", 150)
head(cr)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
corrList <- NULL
for (i in 1:length(th_Ids)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
if (nrow(df) == 0) {
return(0)
} else {
return (corrList)
}
}
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
corrList <- NULL
for (i in 1:length(th_Ids)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
if (nrow(df) == 0) {
return(0)
} else {
return (corrList)
}
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
cr <- corr("specdata", 400)
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
if (length(thr_Files == 0)) {
return(0)
} else {
corrList <- NULL
for (i in 1:length(th_Ids)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
return (corrList)
}
}
cr <- corr("specdata", 400)
head(cr)
threshold
source("corr.R")
source("complete.R")
cr <- corr("specdata", 150)
head(cr)
cr
threshold <- 150
directory <- specdata
directory <- "specdata"
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
thr_Files
length(thr_Files == 0)
length(thr_Files) == 0
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
if (length(thr_Files) == 0) {
return(0)
} else {
corrList <- NULL
for (i in 1:length(th_Ids)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
return (corrList)
}
}
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
if (length(thr_Files) == 0) {
return(0)
} else {
corrList <- NULL
for (i in 1:length(th_Ids)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
return (corrList)
}
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
if (length(thr_Files) == 0) {
return(0)
} else {
corrList <- NULL
for (i in 1:length(th_Files)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
return (corrList)
}
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
if (length(thr_Files) == 0) {
return(0)
} else {
corrList <- NULL
for (i in 1:length(thr_Files)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
return (corrList)
}
}
cr <- corr("specdata", 150)
head(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
cr
summary(cr)
length(cr)
corr <- function(directory, threshold = 0) {
fileNames <- list.files(directory)
completeCases <- complete(directory)
completeCases$fileNames <- fileNames
thr_Files <- completeCases[completeCases$nobs > threshold, "fileNames"]
corrList <- NULL
if (length(thr_Files) == 0) {
return(corrList)
} else {
for (i in 1:length(thr_Files)) {
path.temp <- paste(".", directory, thr_Files[i], sep="/")
file.temp <- read.csv(path.temp)
file.temp <- file.temp[complete.cases(file.temp),]
corrList[i] <- cor(file.temp$sulfate,file.temp$nitrate)
}
return (corrList)
}
}
cr <- corr("specdata", 5000)
cr
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
submit()
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
submit()
submit()
submit()
